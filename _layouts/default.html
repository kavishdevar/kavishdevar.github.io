<!DOCTYPE html>
<html lang="en">

<head>
    {% assign projects = site.projects | sort: 'title' %}
    {% assign tools = site.tools | sort: 'title' %}
    {% assign holiday_homeworks = site.holiday-homeworks | sort: 'title' %}
    {% if jekyll.environment == "production" %}
    {% assign material_url = 'https://material.kavishdevar.me' %}
    {% else if jekyll.environment == "development" %}
    {% assign material_url = '/assets/js/material' %}
    {% endif %}
    
    {% assign projectsArray = "" | split: ',' %}
    {% assign projectsPermalinkArray = "" | split: ',' %}
    {% for project in projects %}
    {% assign projectsArray = projectsArray| push: project.title %}
    {% assign projectsPermalinkArray = projectsPermalinkArray| push: project.permalink %}
    {% endfor %}
    {% assign toolsArray = "" | split: ',' %}
    {% assign toolsPermalinkArray = "" | split: ',' %}
    {% for tool in tools %}
    {% assign toolsArray = toolsArray| push: tool.title %}
    {% assign toolsPermalinkArray = toolsPermalinkArray| push: tool.permalink %}
    {% endfor %}
    {% assign holiday_homeworksArray = "" | split: ',' %}
    {% assign holiday_homeworksPermalinkArray = "" | split: ',' %}
    {% for holiday_homework in holiday_homeworks %}
    {% assign holiday_homeworksArray = holiday_homeworksArray| push: holiday_homework.title %}
    {% assign holiday_homeworksPermalinkArray = holiday_homeworksPermalinkArray| push: holiday_homework.permalink %}
    {% endfor %}
    {% assign author = site.data.authors[page.author] %}
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{page.title}}</title>
    <script type="module" src="{{material_url}}/material.js"></script>
    <link rel="stylesheet" href="/assets/css/theme.css">
    <link rel="stylesheet" href="/assets/css/card.css">
    <script src="/assets/js/top-app-bar.js"></script>
    <script src="/assets/js/index.js"></script>
    <script src="{{material_url}}/theme-changer.js"></script>
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>

<body>
    <md-navigation-rail>
        <md-fab toggle slot="fab" id="fab" variant="tertiary" onclick="alert('under development')">
            <md-icon slot="icon">search</md-icon>
        </md-fab>
        <!-- <md-fab toggle slot="fab" id="fab" variant="tertiary" onclick="toggleNavDrawer()">
            <md-icon slot="icon">menu</md-icon>
        </md-fab> -->
        <!-- <md-icon-button toggle slot="menubutton" id="menubutton" onclick="toggleNavDrawer()">
            <md-icon>menu</md-icon>
        </md-icon-button> -->
        <!-- <span slot="tabs"> -->
        <style>
            md-navigation-tab {
                --md-navigation-bar-active-hover-state-layer-color: var(--md-sys-color-surface-container-highest);
                --md-navigation-bar-inactive-hover-state-layer-color: var(--md-sys-color-surface-container-highest);
                --md-navigation-bar-active-pressed-state-layer-color: var(--md-sys-color-surface-container-highest);
                --md-navigation-bar-active-indicator-color: var(--md-sys-color-inverse-primary);
            }

            md-navigation-tab:hover {
                --md-navigation-bar-inactive-shape: 28px;
            }
            md-focus-ring {
                --md-focus-ring-shape: 28px;
            }
            .active-item {
                background-color: var(--md-sys-color-secondary-container);
                color: var(--md-sys-color-on-secondary-container);
            }
        </style>
        <md-navigation-tab active label="Home" view="/">
            <md-icon slot="active-icon">home</md-icon>
            <md-icon slot="inactive-icon">home</md-icon>
        </md-navigation-tab>
        <md-navigation-tab label="About" view="/about">
            <md-icon slot="active-icon">person</md-icon>
            <md-icon slot="inactive-icon">person</md-icon>
        </md-navigation-tab>
        <md-navigation-tab label="Projects" view="/projects">
            <md-icon slot="active-icon">code</md-icon>
            <md-icon slot="inactive-icon">code</md-icon>
        </md-navigation-tab>
        <md-navigation-tab label="Tools" view="/tools">
            <md-icon slot="active-icon">construction</md-icon>
            <md-icon slot="inactive-icon">construction</md-icon>
        </md-navigation-tab>
        <md-navigation-tab label="School Stuff" view="/holiday-homeworks">
            <md-icon slot="active-icon">school</md-icon>
            <md-icon slot="inactive-icon">school</md-icon>
        </md-navigation-tab>
        <md-icon-button id="theme-button-desktop" slot="theme"
            onclick="document.querySelector('#desktop-theme-menu').toggleAttribute('open')">
            <md-icon>palette</md-icon>
        </md-icon-button>
    </md-navigation-rail>
    <md-dialog id="desktop-theme-menu">
        <span slot="headline">
            <span
                style="flex: 1; font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;">Choose
                a Theme</span>
            <md-icon-button form="form" value="close" aria-label="Close dialog">
                <md-icon>close</md-icon>
            </md-icon-button>
        </span>
        <form id="form" slot="content" method="dialog">
            <theme-changer></theme-changer>
        </form>
    </md-dialog>
    <md-navigation-drawer-modal id="nav-drawer">
        <div class="nav-drawer-content">
        </div>
    </md-navigation-drawer-modal>
    <style>
        .selected {
            background-color: var(--md-sys-color-surface-container-highest);
        }

        md-list {
            --md-list-container-shape: 28px;
        }

        md-list-item {
            font-size: 1.5em;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            margin-bottom: 5px;
            --md-list-item-container-shape: 28px;
            border-radius: 28px;
        }

        .nav-drawer-content {
            padding: 20px;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }

        md-navigation-drawer-modal {
            position: fixed;
            bottom: 0;
            left: 0;
            height: calc(100dvh - 56px);
            z-index: 1000;
            --md-navigation-drawer-modal-container-width: 300px;
            --md-navigation-drawer-modal-container-shape: 0px 28px 28px 0px;
            --md-navigation-drawer-modal-container-color: var(--md-sys-color-surface);
            color: var(--md-sys-color-on-surface);
        }

        .scrim-background {
            filter: opacity(50%);
        }

        md-top-app-bar {
            z-index: 1000;
            position: fixed;
            width: 100%;
            top: 0;
        }

        h3 {
            color: var(--md-sys-color-on-surface);
        }
    </style>

    <md-top-app-bar>
        {% if page.category != "Kavish's Website" %}
        <h3 slot="title" id="title" style="font-weight: normal;">
            <a href='/' )>{{site.title}}</a>
            {% if page.category != page.title %}
            -
            <a href='/{{page.category}}'>{{page.category}}</a>
            {% endif %}
        </h3>
        {% else %}
        <a slot="title" href="/">
            <h3 id="title" style="font-weight: normal;">Kavish's Website</h3>
        </a>
        {% endif %}
        <md-icon-button id="nav-button-mobile" slot='navigation-button' toggle onclick="toggleNavDrawer()">
            <md-icon>menu</md-icon>
            <md-icon slot="selected">menu_open</md-icon>
        </md-icon-button>
        <div slot="end" style="display: contents;">
            <md-icon-button id="menu-button" href="https://github.com/kavishdevar" target="_blank">
                <md-icon>
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px"
                        height="24px" viewBox="0 0 24 24" version="1.1">
                        <path
                            style=" stroke:none;fill-rule:evenodd;fill:var(--md-sys-color-on-surface-variant);fill-opacity:1;"
                            d="M 11.964844 0 C 5.347656 0 0 5.5 0 12.304688 C 0 17.742188 3.425781 22.347656 8.179688 23.976562 C 8.773438 24.097656 8.992188 23.710938 8.992188 23.386719 C 8.992188 23.101562 8.972656 22.125 8.972656 21.105469 C 5.644531 21.839844 4.953125 19.636719 4.953125 19.636719 C 4.417969 18.210938 3.625 17.84375 3.625 17.84375 C 2.535156 17.089844 3.703125 17.089844 3.703125 17.089844 C 4.914062 17.171875 5.546875 18.355469 5.546875 18.355469 C 6.617188 20.226562 8.339844 19.699219 9.03125 19.371094 C 9.132812 18.578125 9.449219 18.027344 9.785156 17.722656 C 7.132812 17.4375 4.339844 16.378906 4.339844 11.652344 C 4.339844 10.308594 4.8125 9.207031 5.566406 8.351562 C 5.445312 8.046875 5.03125 6.785156 5.683594 5.09375 C 5.683594 5.09375 6.695312 4.765625 8.972656 6.355469 C 9.949219 6.085938 10.953125 5.949219 11.964844 5.949219 C 12.972656 5.949219 14.003906 6.089844 14.957031 6.355469 C 17.234375 4.765625 18.242188 5.09375 18.242188 5.09375 C 18.898438 6.785156 18.480469 8.046875 18.363281 8.351562 C 19.136719 9.207031 19.589844 10.308594 19.589844 11.652344 C 19.589844 16.378906 16.796875 17.417969 14.125 17.722656 C 14.558594 18.109375 14.933594 18.84375 14.933594 20.003906 C 14.933594 21.65625 14.914062 22.980469 14.914062 23.386719 C 14.914062 23.710938 15.132812 24.097656 15.726562 23.976562 C 20.480469 22.347656 23.910156 17.742188 23.910156 12.304688 C 23.929688 5.5 18.558594 0 11.964844 0 Z M 11.964844 0" />
                    </svg>
                </md-icon>
            </md-icon-button>
            <md-icon-button id="theme-button-mobile"
                onclick="document.querySelector('#theme-menu-mobile').toggleAttribute('open')">
                <md-icon>palette</md-icon>
            </md-icon-button>
        </div>
    </md-top-app-bar>
    <md-menu id="theme-menu-mobile" anchor="theme-button-mobile" menu-corner="start-end" style="margin-top: 100px;">
        <theme-changer></theme-changer>
    </md-menu>
    <style>
        kbd {
            display: inline-block;
            padding: 3px 5px;
            font: 11px ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace;
            line-height: 10px;
            color: var(--md-sys-color-on-surface);
            vertical-align: middle;
            background-color: var(--md-sys-color-surface-container);
            border: solid 1px var(--md-sys-color-surface-variant);
            border-bottom-color: var(--md-sys-color-surface-variant);
            border-radius: 6px;
            box-shadow: inset 0 -1px 0 var(--md-sys-color-surface-variant);
        }

        a {
            color: var(--md-sys-color-primary);
            text-decoration: none;
            cursor: pointer;
        }

        body {
            background-color: var(--md-sys-color-surface-container);
            overflow: hidden;
            margin-left: 0;
            margin-right: 0;
            margin-top: 0;
            padding-left: 0;
            padding-right: 0;
        }

        header {
            overflow: hidden;
            width: 100%;
        }

        .content {
            min-height: 10dvh;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            color: var(--md-sys-color-on-surface);
            overflow: scroll;
            font-weight: 300;

            padding: 30px;
            margin-bottom: 100px;
            margin-top: 56px;
            /* margin-bottom: 0; */

            border-radius: 28px;
            background-color: var(--md-sys-color-surface);
            height: 85dvh;
        }

        main {
            margin: 0;
            /* margin-left: 50px; */
            margin-top: 56px;
        }

        h1 {
            font-size: 2em
        }

        footer {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            background-color: var(--md-sys-color-surface-container);
            color: var(--md-sys-color-on-surface);
            position: fixed;
            bottom: 0;
            height: 20px;
            font-size: 0.8em;
            font-weight: 200;
            width: 100%;
            overflow: hidden;
            right: 0;
        }

        code[class*='language-'] :not([class='language-plaintext']) {
            color: var(--md-sys-color-on-surface-variant);
            background: none;
            border: none;
            text-shadow: 0 1px 1px var(--md-sys-color-surface);
            font-family: 'Courier New', Courier, monospace;
            direction: ltr;
            text-align: left;
            word-spacing: normal;
            white-space: pre;
            word-wrap: normal;
            line-height: 1.5;
            font-size: var(0.8em);
            tab-size: 2;
            padding: 1em;
            hyphens: none;
        }

        div[class*='language-'] {
            margin: 0.5em;
            padding-left: 0.8em;
            padding-right: 0.8em;
            overflow: scroll;
            border-radius: 28px;
            background: var(--md-sys-color-surface-container);
            border: 1px solid var(--md-sys-color-outline);
        }

        .mobile-footer {
            display: block;
            width: auto;
            position: fixed;
            right: 0;
        }

        .desktop-footer {
            display: none;
        }

        md-top-app-bar {
            z-index: 1000;
            position: fixed;
            width: 100%;
            top: 0;
        }

        md-navigation-rail {
            display: none;
        }
        #projects-list {
            display: block;
        }
        #tools-list {
            display: block;
        }
        #homework-list {
            display: block;
        }
        #category-divider {
            display: block;
        }
        @media screen and (min-width: 1100px) {
            #homework-list {
                display: none;
            }
            #tools-list {
                display: none;
            }
            #projects-list {
                display: none;
            }
            .category-divider {
                display: none;
            }
            nav-button-mobile {
                display: none;
            }

            md-navigation-rail {
                background-color: var(--md-sys-color-surface-container-highest);
                width: 80px;
                display: grid;
                grid-template-rows: 1fr 1fr 1fr 1fr 1fr;
                position: fixed;
                top: 0;
                left: 0;
                height: 100%;
                z-index: 1000;
            }

            md-navigation-drawer-modal {
                left: 80px;
                height: 100dvh;

                --md-navigation-drawer-modal-container-width: 250px;
                --md-navigation-drawer-modal-container-color: var(--md-sys-color-surface-container-high);

                md-list {
                    --md-list-container-color: transparent;
                    --md-list-container-shape: 28px;
                }

                md-nav-drawer-content {
                    height: 100dvh;
                    border-left: 1px solid var(--md-sys-color-outline);
                }
            }

            md-top-app-bar {
                display: none;
            }

            body {
                overflow: auto;
            }

            .mobile-footer {
                display: none;
            }

            .desktop-footer {
                display: block;
            }

            main {
                margin: 0;
                margin-top: 0;
                margin-left: 88px;
                display: flex;
                justify-content: space-between;
            }

            .content {
                display: inline-block;
                margin-left: 30px;
                margin-right: 30px;
                margin-bottom: 0;
                margin-top: 20px;
                min-height: 85dvh;
                height: fit-content;
                /* height: calc(85dvh - 56px); */
                scroll-behavior: smooth;
            }

            h1 {
                font-size: 4em;
            }

            footer {
                position: fixed;
                bottom: 0;
                height: 20px;
                font-size: 0.8em;
                font-weight: 200;
                width: auto;
                right: 10px;
            }
        }

        @media screen and (min-width: 720px) and (max-width: 1100px) {
            body {
                overflow: auto;
            }

            .mobile-footer {
                display: none;
            }

            .desktop-footer {
                display: block;
            }

            main {
                margin: 0;
                margin-top: 56px;
                display: flex;
                justify-content: space-between;
            }

            .content {
                display: inline-block;
                margin-left: 30px;
                margin-right: 30px;
                margin-bottom: 0;
                margin-top: 20px;
                height: calc(85dvh - 56px);
                width: 100%;
            }

            h1 {
                font-size: 4em;
            }

            footer {
                position: fixed;
                bottom: 0;
                height: 20px;
                font-size: 0.8em;
                font-weight: 200;
                width: auto;
                right: 10px;
            }
        }

        .fade-out {
            opacity: 0;
            transition: opacity 1s;
        }

        .fade-in {
            opacity: 1;
            transition: opacity 1s;
        }

        .shrink {
            width: 80%;
            transition: width 1s;
        }

        .slide-in {
            width: 20%;
            transition: width 1s;
        }

        @media screen and (min-width: 850px) {}

        .slide-out {
            width: 0;
            transition: width 1s;
        }

        .expand {
            width: 100%;
            transition: width 1s;
        }
    </style>
    {% if page.hastoc %}
    <style id="content-style">
        @media screen and (min-width: 1100px) {
            .content {
                margin-right: 30%;
                min-width: 65%;
            }
        }
    </style>
    {% else %}
    <style id="content-style">
        @media screen and (min-width: 1100px) {
            .content {
                width: 100dvw;
            }
        }
    </style>
    {% endif %}
    <main>
        <div class="content">
            <h1>{{page.title}}</h1>
            {{content}}
        </div>
        {% if page.hastoc %}
        {% include aside.html %}
        {% endif %}
    </main>
    <footer class="desktop-footer" style="display: none;">
        © 2024 - {{author.name}} (Build Version: {{site.github.build_revision}})
    </footer>
    <footer class="mobile-footer">
        © 2024 - {{author.name}}
    </footer>
    <script>
        const projectsTitles='{{projectsArray | jsonify}}'.replace('[', '').replace(']', '').replace('"','').split(',')
        const toolsTitles='{{toolsArray | jsonify}}'.replace('[', '').replace(']', '').replace('"','').split(',')
        const holiday_homeworksTitles='{{holiday_homeworksArray | jsonify}}'.replace('[', '').replace(']', '').replace('"','').split(',')
        const projectsLinks='{{projectsPermalinkArray | jsonify}}'.replace('[', '').replace(']', '').replace('"','').split(',')
        const toolsLinks='{{toolsPermalinkArray | jsonify}}'.replace('[', '').replace(']', '').replace('"','').split(',')
        const holiday_homeworksLinks='{{holiday_homeworksPermalinkArray | jsonify}}'.replace('[', '').replace(']', '').replace('"','').split(',')
        var projects = new Map()
        for (let i = 0; i < projectsTitles.length; i++) {
            projectsTitles[i]=projectsTitles[i].replace('\"','').replace("\"","")
            projectsLinks[i]=projectsLinks[i].replace('\"','').replace("\"","")
            projects.set(projectsTitles[i],projectsLinks[i]);
        }
        var tools = new Map()
        for (let i = 0; i < toolsTitles.length; i++) {
            toolsTitles[i]=toolsTitles[i].replace('\"','').replace("\"","")
            toolsLinks[i]=toolsLinks[i].replace('\"','').replace("\"","")
            tools.set(toolsTitles[i], toolsLinks[i])
        }
        var holiday_homeworks = new Map()
        for (let i = 0; i < holiday_homeworksTitles.length; i++) {
            holiday_homeworksTitles[i]=holiday_homeworksTitles[i].replace('\"','').replace("\"","")
            holiday_homeworksLinks[i]=holiday_homeworksLinks[i].replace('\"','').replace("\"","")
            holiday_homeworks[holiday_homeworksTitles[i]] = holiday_homeworksLinks[i]
        }
        categories = ['Home', 'About', 'Projects', 'Tools', 'School Stuff']
    
        init(categories, projects, tools, holiday_homeworks)
    </script>
</body>
</html>